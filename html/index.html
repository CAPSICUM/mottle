<!doctype html>
<html>
<head>
<script type="text/javascript" src="https://getfirebug.com/firebug-lite.js#startOpened=true"></script>
</head>
	<body>
		<p>
		TouchAdapter provides a means of capturing touch events and presenting them as mouse events, allowing you to perform common tasks without having to register two different types of events.  The script can operate directly on the DOM, or you can use one of the (yet to be created) library versions of it; these versions will work entirely in the event context of the library in question.
		</p>
		<p>
			The blue div below is configured to use TouchAdapter to register a listener for all mouse events, including click, double click and context menu.
		</p>

		<div id="debug" style="width:400px;height:40px;border:1px solid red;"></div>
		<button id="btnUnbind">Unbind</button>
		<div id="workspace" style="width:400px;height:400px;border:1px solid blue;"></div>
		
		<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js'></script>		
		<script type="text/javascript" src="../js/touch-adapter-0.1.js"></script>
		<script type="text/javascript" src="../js/jquery.touch-adapter-0.1.js"></script>

		<script type="text/javascript">
			$(function() {

				var d = function(msg) {
					return function(e) {	
				//		e.stopPropagation();
				//		e.preventDefault();					
						$("#debug").html(msg);
						console.log(msg);
					};
				},
				ta,
				w = document.getElementById("workspace"),
				ws = $(w),
				move = d("mousemove"),
				down = d("mousedown"),
				up = d("mouseup"),
				click = d("click"),
				contextmenu = d("contextmenu"),
				dblclick = d("dblclick");
								

// jquery bind/unbind version
/*
				var ta = new TouchAdapter({
					bind:function(obj, evt, fn) { $(obj).bind(evt, fn); },
					unbind:function(obj, evt, fn) { $(obj).unbind(evt, fn); },
					unwrap:function(e) { return e.originalEvent; }
				});
				ta.bind(ws, "mousemove", move);
				ta.bind(ws, "mouseup", up);
				ta.bind(ws, "mousedown", down);
				ta.bind(ws, "click", click);
				ta.bind(ws, "dblclick", dblclick);
				ta.bind(ws, "contextmenu", contextmenu);

				$("#btnUnbind").bind("click", function() {
					ta.unbind(ws, "mousemove");
					ta.unbind(ws, "mouseup");
					ta.unbind(ws, "mousedown");
					ta.unbind(ws, "click");	
					ta.unbind(ws, "dblclick");	
					ta.unbind(ws, "contextmenu");
				});
//*/			

// jquery on/off version
/*
				ta = new TouchAdapter({
					bind:function(obj, evt, fn) { $(obj).on(evt, fn); },
					unbind:function(obj, evt, fn) { $(obj).off(evt, fn); },
					unwrap:function(e) { return e.originalEvent; }
				});
				ta.bind(ws, "mousemove", move);
				ta.bind(ws, "mouseup", up);
				ta.bind(ws, "mousedown", down);
				ta.bind(ws, "click", click);
				ta.bind(ws, "dblclick", dblclick);
				ta.bind(ws, "contextmenu", contextmenu);

				$("#btnUnbind").bind("click", function() {
					ta.unbind(ws, "mousemove");
					ta.unbind(ws, "mouseup");
					ta.unbind(ws, "mousedown");
					ta.unbind(ws, "click");	
					ta.unbind(ws, "dblclick");	
					ta.unbind(ws, "contextmenu");
				});
//*/			

// straight up DOM version
/*
				ta = new TouchAdapter();				

				ta.bind(w, "mousemove", m);
				ta.bind(w, "mouseup", up);
				ta.bind(w, "mousedown", down);
				ta.bind(w, "click", click);
				ta.bind(w, "dblclick", dblclick);
				ta.bind(w, "contextmenu", contextmenu);

				$("#btnUnbind").bind("click", function() {
					ta.unbind(w, "mousemove", move);
					ta.unbind(w, "mouseup", up);
					ta.unbind(w, "mousedown", down);
					ta.unbind(w, "click", click);	
					ta.unbind(w, "contextmenu", contextmenu);
					ta.unbind(w, "dblclick", dblclick);
				});
//*/	

// jquery.touchadapter version
/*
				ta = new jQueryTouchAdapter();
				ta.bind(ws, "mousemove", move);
				ta.bind(ws, "mouseup", up);
				ta.bind(ws, "mousedown", down);
				ta.bind(ws, "click", click);
				ta.bind(ws, "dblclick", dblclick);
				ta.bind(ws, "contextmenu", contextmenu);

				$("#btnUnbind").bind("click", function() {
					ta.unbind(ws, "mousemove");
					ta.unbind(ws, "mouseup");
					ta.unbind(ws, "mousedown");
					ta.unbind(ws, "click");	
					ta.unbind(ws, "contextmenu");
					ta.unbind(ws, "dblclick");
				});
//*/	

// jquery.touchadapter plugin version
//*
				ws.taBind("mousemove", move)
				  .taBind("mouseup", up)
				  .taBind("mousedown", down)
				  .taBind("click", click)
				  .taBind("dblclick", dblclick)
				  .taBind("contextmenu", contextmenu);

				$("#btnUnbind").bind("click", function() {
					ws.taUnbind("mousemove")
					  .taUnbind("mouseup")
					  .taUnbind("mousedown")
					  .taUnbind("click")
					  .taUnbind("contextmenu")
					  .taUnbind("dblclick");
				});
//*/					
				
			});
		</script>

	</body>
</html>